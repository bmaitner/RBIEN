<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>title: &ldquo;BIEN tutorial&rdquo;</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>



</head>

<body>
<!--
%\VignetteEngine{knitr::knitr}
%\VignetteIndexEntry{BIEN tutorial}
%\VignetteEncoding{UTF-8}
-->

<hr/>

<h2>title: &ldquo;BIEN tutorial&rdquo;</h2>

<h1>Setup</h1>

<pre><code class="r">library(BIEN)
library(ape) #Package for working with phylogenies in R
library(maps) #Useful for making quick maps of occurrences
library(sp) # A package for spatial data
</code></pre>

<h1>An overview of the package</h1>

<p>We try to make this package as easy and intuitive to use as possible, but it is still often easiest to start with our vignette.  Particularly useful are the &ldquo;Function Names&rdquo; and &ldquo;Function Directory&rdquo; sections.</p>

<pre><code class="r">vignette(&quot;BIEN&quot;)
</code></pre>

<p>The function names follow a consistent naming strategy, and mostly consist of 3 parts:</p>

<ol>
<li>The prefix &ldquo;BIEN_&rdquo; </li>
<li>The type of data being accessed, e.g. &ldquo;occurrence_&rdquo;</li>
<li>How you&#39;ll be querying the data.  For example, the suffix &ldquo;state&rdquo; refers to functions that return data for a specified state.</li>
</ol>

<p>As a complete example, the function <code>BIEN_occurrence_species</code> returns occurrence records for a given species (or set of species).</p>

<h1>Function Families</h1>

<p>Currently we have 9 function families in RBIEN.  These are sets of functions that access a given type of data.</p>

<ol>
<li>occurrence records (<code>BIEN_occurrence_...</code>)</li>
<li>range maps (<code>BIEN_ranges_...</code>)</li>
<li>plot data (<code>BIEN_plot_...</code>)</li>
<li>trait data (<code>BIEN_trait_...</code>)</li>
<li>taxonomic information (<code>BIEN_taxonomy_...</code>)</li>
<li>phylogenies (<code>BIEN_phylogeny_...</code>)</li>
<li>stem data (<code>BIEN_stem_...</code>)</li>
<li>species lists (<code>BIEN_list_...</code>)</li>
<li>metadata (<code>BIEN_metadata_...</code>)</li>
</ol>

<p>We&#39;ll walk through each of the function families and take a look at some the options available within each.</p>

<h1>Occurrence records</h1>

<p>These functions begin with the prefix <code>BIEN_occurrence_...</code> and allow you to query occurrences by either taxonomy or geography.  Functions include:</p>

<ol>
<li><p><code>BIEN_occurrence_country</code> Returns all occurrence records within a given country</p></li>
<li><p><code>BIEN_occurrence_state</code> Returns all occurrences records within a given state/province</p></li>
<li><p><code>BIEN_occurrence_county</code> Returns all occurrences records within a given state/province</p></li>
<li><p><code>BIEN_occurrence_family</code> Returns all occurrence records for a specified family</p></li>
<li><p><code>BIEN_occurrence_genus</code> Returns all occurrence records for a specified genus</p></li>
<li><p><code>BIEN_occurrence_species</code> Returns all occurrence records for a specified species</p></li>
</ol>

<p>Each of these functions has a number of different arguments that modify your query, either refining your search criteria or returning more data for each record.  These arguments include:</p>

<ol>
<li><p>cultivated  If TRUE, records known to be cultivated will be returned.</p></li>
<li><p>only.new.world If TRUE, records returned are limited to those in North and South America, where greater data cleaing and validation has been done.</p></li>
</ol>

<ul>
<li>Note that the arguments cultivated and only.new.world may change the number of records returned.</li>
</ul>

<ol>
<li><p>all.taxonomy If TRUE, the query will return additional taxonomic data, including the uncorrected taxonomic information for those records.</p></li>
<li><p>native.status If TRUE, additional information will be returned regarding whether a species is native in a given region.</p></li>
<li><p>natives.only If TRUE, the default, information for occurrences flagged as introduced will not be returned.</p></li>
<li><p>observation.type  If TRUE, the query will return whether each record is from either a plot or a specimen.  This may be useful if a user believes one type of information may be more accurate.</p></li>
<li><p>political.boundaries If TRUE, the query will return information on which country, state, etc. that an occurrence is found within.</p></li>
<li><p>collection.info If TRUE, the quest will return additional information about the collection and identification of that specimen.</p></li>
</ol>

<p><strong>Example 1: Occurrence records for a species</strong></p>

<p>Okay, enough reading.  Let&#39;s get some data.</p>

<p>Let&#39;s say we&#39;re interested in the species <em>Xanthium strumarium</em> and we&#39;d like some occurrence data.  We&#39;ll use the function <code>BIEN_occurrence_species</code> to grab the occurrence data.</p>

<pre><code class="r">Xanthium_strumarium &lt;- BIEN_occurrence_species(species = &quot;Xanthium strumarium&quot;)
</code></pre>

<p>Take a moment and view the dataframe and take a look at the structure</p>

<pre><code class="r">str(Xanthium_strumarium)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    7579 obs. of  11 variables:
##  $ scrubbed_species_binomial  : chr  &quot;Xanthium strumarium&quot; &quot;Xanthium strumarium&quot; &quot;Xanthium strumarium&quot; &quot;Xanthium strumarium&quot; ...
##  $ latitude                   : num  56.7 NA NA NA 39.4 ...
##  $ longitude                  : num  16.4 NA NA NA -84.6 ...
##  $ date_collected             : Date, format: &quot;1914-01-01&quot; NA ...
##  $ datasource                 : chr  &quot;GBIF&quot; &quot;GBIF&quot; &quot;GBIF&quot; &quot;GBIF&quot; ...
##  $ dataset                    : chr  &quot;OHN&quot; &quot;UCJEPS&quot; &quot;MNHN&quot; &quot;W&quot; ...
##  $ dataowner                  : chr  &quot;OHN&quot; &quot;UCJEPS&quot; &quot;MNHN&quot; &quot;W&quot; ...
##  $ custodial_institution_codes: chr  &quot;OHN&quot; &quot;UCJEPS&quot; &quot;MNHN&quot; &quot;W&quot; ...
##  $ collection_code            : chr  &quot;OHN&quot; &quot;JEPS&quot; &quot;p&quot; &quot;Herbarium W&quot; ...
##  $ datasource_id              : num  209 1021 1008 669 102 ...
##  $ is_new_world               : int  0 1 NA 0 1 NA 1 NA NA 0 ...
</code></pre>

<pre><code class="r">head(Xanthium_strumarium)
</code></pre>

<pre><code>##   scrubbed_species_binomial latitude longitude date_collected datasource
## 1       Xanthium strumarium  56.6687   16.3547     1914-01-01       GBIF
## 2       Xanthium strumarium       NA        NA           &lt;NA&gt;       GBIF
## 3       Xanthium strumarium       NA        NA           &lt;NA&gt;       GBIF
## 4       Xanthium strumarium       NA        NA     1996-09-18       GBIF
## 5       Xanthium strumarium  39.4384  -84.5774           &lt;NA&gt;       GBIF
## 6       Xanthium strumarium       NA        NA           &lt;NA&gt;       GBIF
##     dataset dataowner custodial_institution_codes collection_code
## 1       OHN       OHN                         OHN             OHN
## 2    UCJEPS    UCJEPS                      UCJEPS            JEPS
## 3      MNHN      MNHN                        MNHN               p
## 4         W         W                           W     Herbarium W
## 5 USDA NRCS USDA NRCS                   USDA NRCS     USDA Plants
## 6         L         L                           L               L
##   datasource_id is_new_world
## 1           209            0
## 2          1021            1
## 3          1008           NA
## 4           669            0
## 5           102            1
## 6          1427           NA
</code></pre>

<p>The default data that is returned consists of the latitude, longitude and date collected, along with a set of attribution data.  The meaning of some of these columns is obvious (e.g. latitude, longitide), however others may be less clear.  The meanings of these columns and the information within is explained in more detail in our data dictionary, available at <a href="http://bien.nceas.ucsb.edu/bien/tools/rbien/data-dictionary/">http://bien.nceas.ucsb.edu/bien/tools/rbien/data-dictionary/</a></p>

<p>If we want more information on these occurrences, we just need to change the arguments:</p>

<pre><code class="r">Xanthium_strumarium_full &lt;- BIEN_occurrence_species(species = &quot;Xanthium strumarium&quot;,cultivated = T,only.new.world = F,all.taxonomy = T,native.status = T,observation.type = T,political.boundaries = T)

str(Xanthium_strumarium_full)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    7719 obs. of  34 variables:
##  $ scrubbed_species_binomial   : chr  &quot;Xanthium strumarium&quot; &quot;Xanthium strumarium&quot; &quot;Xanthium strumarium&quot; &quot;Xanthium strumarium&quot; ...
##  $ verbatim_family             : chr  NA &quot;Asteraceae&quot; &quot;asteraceae&quot; NA ...
##  $ verbatim_scientific_name    : chr  &quot;Xanthium strumarium&quot; &quot;Xanthium strumarium&quot; &quot;xanthium strumarium&quot; &quot;Xanthium strumarium L.&quot; ...
##  $ family_matched              : chr  &quot;Asteraceae&quot; &quot;Asteraceae&quot; &quot;Asteraceae&quot; &quot;Asteraceae&quot; ...
##  $ name_matched                : chr  &quot;Xanthium strumarium&quot; &quot;Xanthium strumarium&quot; &quot;Xanthium strumarium&quot; &quot;Xanthium strumarium&quot; ...
##  $ name_matched_author         : chr  &quot;L.&quot; &quot;L.&quot; &quot;L.&quot; &quot;L.&quot; ...
##  $ higher_plant_group          : chr  &quot;flowering plants&quot; &quot;flowering plants&quot; &quot;flowering plants&quot; &quot;flowering plants&quot; ...
##  $ scrubbed_taxonomic_status   : chr  &quot;Accepted&quot; &quot;Accepted&quot; &quot;Accepted&quot; &quot;Accepted&quot; ...
##  $ scrubbed_family             : chr  &quot;Asteraceae&quot; &quot;Asteraceae&quot; &quot;Asteraceae&quot; &quot;Asteraceae&quot; ...
##  $ scrubbed_author             : chr  &quot;L.&quot; &quot;L.&quot; &quot;L.&quot; &quot;L.&quot; ...
##  $ native_status               : chr  &quot;UNK&quot; &quot;P&quot; NA &quot;UNK&quot; ...
##  $ native_status_reason        : chr  &quot;Status unknown, no checklists for region of observation&quot; &quot;Present in one or more checklists for region, status not indicated&quot; NA &quot;Status unknown, no checklists for region of observation&quot; ...
##  $ native_status_sources       : chr  NA &quot;usda&quot; NA NA ...
##  $ is_introduced               : int  NA 0 NA NA 0 NA 0 NA NA NA ...
##  $ native_status_country       : chr  NA &quot;P&quot; NA NA ...
##  $ native_status_state_province: chr  NA &quot;P&quot; NA NA ...
##  $ native_status_county_parish : chr  NA NA NA NA ...
##  $ country                     : chr  &quot;Sweden&quot; &quot;United States&quot; NA &quot;Austria&quot; ...
##  $ state_province              : chr  NA &quot;California&quot; NA NA ...
##  $ county                      : chr  NA &quot;San Diego&quot; NA NA ...
##  $ locality                    : chr  &quot;Kalmar, Fredriksskans&quot; &quot;San Diego; San Felipe Creek; sandy wash; San Felipe Valley, wash of San Felipe Creek&quot; NA &quot;sterreich, Burgenland, Neusiedler See, Seewinkel, knapp S Podersdorf-Ortsende&quot; ...
##  $ latitude                    : num  56.7 NA NA NA 39.4 ...
##  $ longitude                   : num  16.4 NA NA NA -84.6 ...
##  $ date_collected              : Date, format: &quot;1914-01-01&quot; NA ...
##  $ datasource                  : chr  &quot;GBIF&quot; &quot;GBIF&quot; &quot;GBIF&quot; &quot;GBIF&quot; ...
##  $ dataset                     : chr  &quot;OHN&quot; &quot;UCJEPS&quot; &quot;MNHN&quot; &quot;W&quot; ...
##  $ dataowner                   : chr  &quot;OHN&quot; &quot;UCJEPS&quot; &quot;MNHN&quot; &quot;W&quot; ...
##  $ custodial_institution_codes : chr  &quot;OHN&quot; &quot;UCJEPS&quot; &quot;MNHN&quot; &quot;W&quot; ...
##  $ collection_code             : chr  &quot;OHN&quot; &quot;JEPS&quot; &quot;p&quot; &quot;Herbarium W&quot; ...
##  $ datasource_id               : num  209 1021 1008 669 102 ...
##  $ is_cultivated_observation   : int  0 NA NA NA 0 NA 0 NA NA 0 ...
##  $ is_cultivated_in_region     : int  0 0 NA 0 0 NA 0 NA NA 0 ...
##  $ is_new_world                : int  0 1 NA 0 1 NA 1 NA NA 0 ...
##  $ observation_type            : chr  &quot;specimen&quot; &quot;specimen&quot; &quot;specimen&quot; &quot;specimen&quot; ...
</code></pre>

<p>We now have considerably more information.</p>

<p>Let&#39;s take a quick look at where those occurrences are.</p>

<pre><code class="r"># Make a quick map to plot our points on

map(&#39;world&#39;,fill=T , col= &quot;grey&quot;, bg=&quot;light blue&quot;) 

#Plot the points from the full query in red

points(cbind(Xanthium_strumarium_full$longitude,Xanthium_strumarium_full$latitude),col=&quot;red&quot;,pch=20,cex=1) 

# Plot the points from the default query in blue

points(cbind(Xanthium_strumarium$longitude,Xanthium_strumarium$latitude),col=&quot;blue&quot;,pch=20,cex=1) 
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-6"/></p>

<p>From the map, we can see that the points from the default query (in blue) all fall within the New World.  The points from the full query (red + blue) additionally include occurrences from the Old World.</p>

<p><strong>Example 2: Occurrence records for a country</strong></p>

<p>Since we may be interested in a particular geographic area, rather than a particular set of species, there are also options to easily extract data by political region as well.</p>

<p>We&#39;ll choose a relatively small region, the Bahamas, for our demonstration.  </p>

<pre><code class="r">Bahamas &lt;- BIEN_occurrence_country(country =  &quot;Bahamas&quot;)

#Let&#39;s see how many species we have
length(unique(Bahamas$scrubbed_species_binomial))
</code></pre>

<pre><code>## [1] 948
</code></pre>

<pre><code class="r">#Nearly 1000 species, not bad.

#Now, let&#39;s take a look at where those occurrences are:
map(regions = &quot;Bahamas&quot; ,fill=T , col= &quot;grey&quot;, bg=&quot;light blue&quot;)

points(cbind(Bahamas$longitude,Bahamas$latitude),col=&quot;blue&quot;,pch=20,cex=1) 
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-7"/></p>

<pre><code class="r">#Looks like some islands are considerably better sampled than others.
</code></pre>

<h1>Range maps</h1>

<p>These functions begin with the prefix <code>BIEN_ranges_...</code> and return (unsurprisingly) species ranges.  Most of these functions work by saving the downloaded ranges to a specified directory in shapefile format, rather than by loading them into the R environment.</p>

<p>Functions include:</p>

<ol>
<li><p><code>BIEN_ranges_species</code>  Downloads range maps for given species and save them to a specified directory.</p></li>
<li><p><code>BIEN_ranges_genus</code>  Saves range maps for all species within a genus to a specified directory.</p></li>
<li><p><code>BIEN_ranges_load_species</code>  This function returns the ranges for a set of species as a SpatialPolygonsDataFrame object.</p></li>
</ol>

<p>The range functions have different arguments than we have seen so far, including:</p>

<ol>
<li><p>directory This is where the function will be saving the shapefiles you download</p></li>
<li><p>matched  If TRUE, the function will return a dataframe listing which species ranges were downloaded and which weren&#39;t.</p></li>
<li><p>match_names_only If TRUE, the function will check whether a map is available for each species without actually downloading it</p></li>
<li><p>include.gid If TRUE, the function will append a unique gid number to each range map&#39;s filename.  This argument is designed to allow forward compatibility when BIEN contains multiple range maps for each species.</p></li>
</ol>

<p><strong>Example 3: Range maps and occurrence points</strong></p>

<p>If we have a species we&#39;re interested in, and would like to load the range map into the environment,  we can use the function <code>BIEN_ranges_load_species</code>.  Let&#39;s try this for <em>Xanthium strumarium</em>.</p>

<pre><code class="r">Xanthium_strumarium_range &lt;- BIEN_ranges_load_species(species = &quot;Xanthium strumarium&quot;)
</code></pre>

<p>The range map is now in our global environment as a SpatialPolygonsDataFrame.  Let&#39;s plot the map and see what it looks like.</p>

<pre><code class="r">#First, let&#39;s add a base map so that our range has some context:

map(&#39;world&#39;,fill=T , col= &quot;grey&quot;, bg=&quot;light blue&quot;,xlim = c(-180,-20),ylim = c(-60,80))

#Now, we can add the range map:
plot(Xanthium_strumarium_range,col=&quot;green&quot;,add=T)
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAADFBMVEUAAAAA/wCt2Oa+vr5l7tebAAAACXBIWXMAAAsSAAALEgHS3X78AAAcPklEQVR4nO2dibakrA6FKX3/d+4+ypAwKDPBZK97+68qFUM+wqxHHSKWUqsNEK2RgGcqAc9UAp6pBDxTCXimEvBMJeCZSsAzlYBnKgHPVAKeqQQ8Uwl4phLwTCXgmUrAM5WAZyoBz1QCnqkEPFMJeKYS8Ewl4JlKwDOVgGcqAc9UAp6pBDxTCXimEvBMJeCZSsAzlYBnKgHPVAKeqQQ8Uwl4phLwTCXgmUrAM5WAZyoBz1QCnqkEPFMJeKYS8Ewl4JlKwDOVgGcqAc9UAp6pBDxTCXimEvBMJeCZSsAzlYBnKgHvpG7pD+epkE6r4IfTO3bqdI7IpdGregjdKiOzw925hYDXEDJHXR+/iD6ATzMfLHyzjByPdukW8qJaWbyuAMCikPQ8YD4e9ZMysjzcqXRlQPncL6mI0o620GFyS+AjS54yP9Cx1OVclOQED0RpulIRpD6ccVRZ1A9u4FOQvDYdeNHrNGEPp5M7Ftb1eeQZgk9Whz5h0z0PSgT8KUxhWS1vbctyRR+PUlQMjqNijsCTwFFI134MXazSnYQVyqV+fBh8PCpx+CrTWT9tBYkC/K2bZpJeDtyogOYnwSss93t4wpEqIoffO/daAXg6pYDPDfkvgTdjb/PJzaaY4wrGNboSkgcl4gRVPmDvexdXD8uKgG6V8pzV4mlCsnU3yHhkiJVwC/5dJ+IQujm9aM2AKo37vDXgnZEZDst0LGUhPhYZOgxPdr+qw4T4iXp7wbge4k91oVbX97DC4QDeRRmqbMHxE1bNytNpg/sEvzzoseuMwM8uB5nEjanVHqchj9bhfT1u8qA8YLaXw0xKd3Jexy16u1d70O1mFoBs9ruD/5ODj+toEKb3/85wyHaeoKa4D9prbVnAMAvCCts4i32eQRWZICq3kH6vUarTfnEuMXF4IMQm9hUYk+sEItM2tfZNIP9SH2FvfUwmLGPC3T5cIduSYfty3sC9FfzoqIf1VoYxtbmgIJXKq67es9ygYIV+hFV7UHgaLR5JHrRnr5Y05WOpgg40xpJb8tH4rpFrxs1G773iUNV7OydM7tOn44KBSotFAn2HXGmbip5G9wFu26YC674DHhX88FQzAWt/AK3233cwF29Bo0DSn0vb0tCSjuShPYUD+X3BP2yO+OPr4vT6D8ZlgtfFCdoJC5IHBcR8xedV2N0Nva2RSmdvji+BV4ARcMY9N2d+t5d6Jx9gOQalrjxSCqnK7N4xbxNkAd7z3h3CMa/A/+KaHp53HP7Mrj0GbwWY2wurTO/a0leVw43B++SeNsEePvnDXJBa2AFePTH5Ew71K9APWcArtmRX8H8yYXfjBOEd84v94CWgm3izIQcnbVmnvV0cbXCRvwduOENd4ryCc2tV3yBmpoxHXy+u8q/X/9WHvZSD3l3C8yX5g8WllTxkr4oa+fETFsYxj6tefe6W56enKyPrt+d7g1wc+F3Ig3vSAh/PV1X16CX7dEekpMPus8GF4KBLLN5uxBK2UZeXKeUCoRm7N+Oc7caCcwtS1aGSa3qO2aZwR7h5J72RP4OqWcUPwHRAtR9NuWRmJ8vEXPiUevWVmTHmex2w0FHmt7Ck59X2sDtu09H9+3C9PSigKt2byAJgMtEMHt+3kFHZ6XlpNmQAZyIZvt5vzt9pd7ofYWnBIQOn8pSXHX2JWc6P3iU39EABqvcVums5pOIrXrPTVHl5HrRf3tqNE+I7/MKH41Sf45UcQMFbuPfGgvBqFblPAYZGb1nTa2DVXJRKqzUPPl31MDJP+wHO1aZ1gI1Vpy0X6MaOM3axt3aHDc7l0B4kRbcL7193WSIrTdm4stKcwmmqvmgnLfATrCRg3/60tUDY4UeNSiTbWTAquaMS3USr5eIwtVZwfZs8BxuFrf1FgX2WsXFbsEATZDUetxlcItVFZuYS45liVB3SQOm1se81gw29GvGw+a7DJzEtG/QV0D4O8EPMavUY+C5wC3PVD1S3lFySDY1X56ULm+yLQYnjtnzYH/xsmo+JNJOBX5fPrh2yjmmBVGvZDwL/1j98tlYfTcXb8zRRinyFi7qy6puYy2gl+VHgX+fb6xfg/JRtzm0nIHrVay3kkjOJvvq+iFXJya93hjNSVQyHgS8Qtv6Ve+RiUOOlq4m8rLrOwLvz3Z1zRhXvp+SovlX38tkjkVaBkqvc6+7SWfcvvn8+n+M02aUM7XgHqe3V/2Q1Ct0ivjrIcV6bU+glG0JxfrAJCK40JzwDeJ2OzK67b/ugLRnXZKaddXvstyp311w0TkqBmXqUV/Njsj+f0eqqp65HWZvtF8GMK/ITz717SyNPCzweyEMSDnw0o5nN7PNIvgw87jZkXJGfeJkZdUPVteAR5FOHrfshXDc0HyNJNc7algX8lRo0JOf0FqmHBDaMeNipU6b06uC2k206c/5cjknhjLcN5S4qBg/LUcbpZalH7xXJY21Pb31Vj/Nzd+8UmJsAGcf5BZfrDxkOfLKjBUnGiVXJB3fyb1zt9toLe8rzm6Md/IROMhcrVDe8ey9qQcdZ+cSde6fXuMLcdHUHpeLlZhk6zp7tCrzy9nEU+yv74hb1XpZtJLcafMrluJb3BzDmHOuAgsXTeNewD47H+3ZNrJnbYvDpSHOt/k3VWBuu3uiyUDT7EtpRzSBXfcfxJS6O/1zFq5cyx2BhVqNtfj75Gjta1X11Lsu/94n3wAkfauHWqgJ/x5bk/DNK3KYTscllX1utzrfI6NMrX+hgL4gVatwc29Il8zwxgXsD+Fj1ZhYKHuCj6e8AvrfjZaYKl7OjSRwg0otLQdE4sFkNN/GWLZR5teT5sPag7LZG0CV2+GOVwCwVgo+GPPBKVfxrLxRfV6Guq3Nml7JKRISZ/tavJwHR4VIA6OcWgUxP2FFdPHPAGVUAG9qLwhsNSjYxH3VEpjvDa/VuAvXUZHRXYcDHM+hlYg7DKo0yTW9bPg1FDR61gumLU32/oeCLVkETSYCKfsrEa72GRbxyG8Csmwo6vmDD+yz0JdalEjhNpWZ/qXbhYA02DC5p2w1suZfaLt8c8OZlOnnGJROBJvMFf93C+qAgpg4T9JN7+QVj+ejl2Fp/ZYeQJkwK6+bObQEuuHJyzOe09HYkkpkeUfId1uNfDl/jev2x0AsLOnkFpTPToq+Cf04dPQ1QXPo1hN9E9N4IJGqU+ZCX3nfBp5cy8ZpljQu8mJ86p5ew15Xj3GSKcz1Dw8bxhhTYpVCbzv+I//1M8I+F/Q7NVmC5hZBozI8cx8Mc12ce1PWzu/hRbIXcT6KDuiEmuYFYn9Qu8r9F6OFyEsxhaRI9XNFR3e1xTupFXgUaRDhFzcIDBpWlcLuCFPvexnSMdJzosY68wWeMqb2eVNh33nql2/K+GVwd8hacMaf2+m+CH5evq0+PO3nOm52oZpGzOS2/9DaaEPo+hgyp4EHyv2uxR3NHE+LzwauKx0GNwYTm7nv1u4fm5y/WDzumRzHfUu2Xthp3LpPbix6vBJ8HOqpArWbM6a5q8rC6h/DqHswFl+YlYMt3SzWzd8Qr+4zQrGwYl9tJPB9fFn6wnfcvoT8pUI+8FYDW7t2u4JVCA6thNqVurv9rKGnsv7yZHQfYfdPof0avqeD9NbXkSaCvWCYdZUq2DTDkb3xP6M2R388/19L+QcFUIltpm8ArOmM6GlaU6A88CnoYqt5T6jrMA7Aw0H3w108mkUQpqoJuK8vVHrxEw4oCmVhFZF3Ag9KQqdi5/rNsXthWcb+Np1LT7wjexigAD0tCIfhoYTBBmhXJeie5F93eSXo4QGbKnoYVJVK2qbaL9H9ffyjmO5DPqtLBhlB3uoroNp3QvC0NK8qEyd+gUN0fabZLwevU38ErNCiAc3OAuP7BTAVQgL/eggq57rlz+RX0v17gHckX7mF5Ue6xwLvucVYrUEEsdN9tzWoD6gTre1QEfrD+H44+NiAAi4m4E2/A38mu9N5lzWoDqqV0dz4Af3XUe5F/rO6D8mXKXCSqdSdAuY7pKsdpe9bevkGgTo8FeD/wafL+PVwBjFTndsowVizma2fwt4d7Ui5CHxY32OcIuLvGQcC3aQJzwxEDN9jDeh59wRvLVaiFvtsa/DGDeYR8anLQ72cchjj0su31rV6X3xq8Cv09CLy3BpAzQwRjXkGjaUzZ7w9+jkz1bL9kXxGv1ldz/yh4lYVmtGxhufcM0hI5gwoUZ6v0OP4ayy+k7xaO1g/aI6JnUYHi/SsTZM7x02VreP1ltaMiomhTroLxFHisVvnun4sdbRtY7aeoaFqVpwRRU7vaJbvZ1FHBW+2klMgalqEEUeX7fjL24y6Sisyei6gIm/aqFFFAG+zXmUMdrsVDU8n5mZxBBUqP5jCMGdCvWwHT6JH2RN2+B+URnUaePGqsvaxFygUq4GPay1okAnNzUAJ+loiBJzpRk9JOtvoiRZ70oD2inWz1RQR8egmOsrYy1lNer3409+1i/dZ+FluVB/yIQrAn9q3Bl5Mf0TZsSf3YG3zpprshUzkCfoHKOPbmrlcB5+e6zwureiSySmWPwfeOd6JbazK1reGXVoP/LXRf4whyb/BH9q461X2BdvnQve3mu4PPZGl2u/bUavDOBVWX9bZjsgrId6X+o7OdrvJVhZ2tmK5187ZEuFcyJGJ7g5aRF/BrtXCpZmfn7Wy71sKI39h7G5tuJHV9jTY23WoReYn45VpDfmfsnwG/5gG5nbW39UbTn43cnPrxLfDTyO8e7X/aPwe39JPJk7ivzm0HfSEPf7r/1uEU8p/g/hnwxzEJ/Beq+T99IxdWw8HnYydeQGhbV6zRIU+cZoE+kxGtyGvMu4Jfnb9u+k5OtNSNZwz67wT8B8HrLZBjwK/OXT99KCta6g7MJvDmpfL+jq0PeetDWdEyTzm0gbcPwCr0N49WZ66fPpQVLf18iyp+wMoGuUYPEjQzBNLGk5R71Zj+o0CFUa4vNvW8S9dVIN9x13dycsAYLX+zIQKtVDj/ol+YOCs3o/WZjBz470AUkc96NEJX9kNzMFGfyYjT1acvquyz5t8/1sp/JR9QyrTymdM4eTAFPH2BjnkO+TwffGxE95V8YCnbE8uI+dwgVvbsvffX3to+A3G52v495rPBm5Df8OVmoTY3/0H2vQXv5AtSNCtAAp6u7NxtL/CHrUWO/R23u/1PGgPefh5j9Cxtbv6jXCv/hL6k0jY1vO7hjTJ8hrY2/kVujvWZfEmS7k8Eb+67rY1/EXgP3VPQlwe85r91zG9s+rtA7ztNvoqeSXXfpn5XuzMF3j05AvzG/tvW8FyBmO8IHie9o/a1PFMOTuoPU+YmE5mwE/CEhVbpayPeUD9PjH7fRn6s2cS8Egefc6HelHOq04/72GadHTTSZnJtYCLkM64zD+PquIdbMfUJA80eoqHgr3/I+CS1JSdlIBwLoqmbu8aPnbiRxhtMxi0l4G+6qEFHTft9zBWL/TTFaCLk8+v6P7CXEoar+wQB/3oXGr5JTN+F1r2BP2yFQCNjFZplOAkHpXZch3voX7jjcf2W9CfZTCQ2kuT909LcYR/PrtVsuBlrWsTT8IuDhP4InWdbMuDjebh6+c8VBD3NAz/pRi9SQD/ztye92Tj1XtN7aVrwVLL5rm0MrVO0rv65rtnNHy/f5nCHM3fKv8YsB5L2LWnjxgjOv+lK3335Q2cZvnTtYGKwnYcfZ2WqWHQtGyiM6nr/xXlNxFviuiy8pHB/1N/tIbjvnq576Vo2VqCd1+9EADF/s39u4oOBQHgH/f/OlncSUbPGC/Xx7MtPfra9diHddpfxHq4zky34w3TkQPcOou/C/ZjRxbsLV+l9OIM/rpGYB17BNx/1WGaY0bmvaFKYg490yxH34+qstd6gg5kZ9xl6+hcF+uAvZaA2/T529hVJo9bJ6+u5jn4DvTl1felNBDyWsm/T0K9CtuQb0uxnXuIGFZWSgPekB3hKh72J/bMFPEUnU7RprXAtbwf2Av7zinXu2qp6ik6maBMBeSHfFPA0fUzSKBIy4P/a+nbw5PxMziBKsis3eeBTGzO72tRLNK0iI0v+xU9Kr8XFpvloupimVXSkZ29ewN8n3A9ZhceGGdcimlYRktlw+3iOUtu9DmkjUxdJ789LH9YPUdoP4Jg9Z6yJNSJoEjE9LdPAcf6JqwZd7SsqG8t9UbSJlp4W6Mxm3fMED12Zs91cwGSLs0TSKFIyHfvYIf3s5HXKCaXMD9H+HgWRNIqWzARe5MhpwR8eeVgE5pucIZpW0RJ+UTn8pNmeQcR77FdanxBFmyjKkNfV+r1hx8b0M3kBv7HQOp2eynVkT/AATqyyJ4ienkU0Bbvopgg47i81PcWgJ2cQWSndwb8+nz74NHfNnpqjqdlDWsruyEAh/hjvpimgFvS0rCEuNyhXsFnXUzhPvbvr38XWY9GyZh/Bnjx84DLOnWDIkzJmJ8WGcCnwFNt5SrbsJDQ/D2M7jHvYDVRkFm0o2LClouCjcY/An8EbM1fZv9qATRWP+Hh972oB986N5S2+gK/UBT6GPvKbsi/FguesRS/gK5Wcpo1FvCGNzllb3wv4OqVH7uAVSqCaV6hImH7+Qu+PvfXqhmygVHKiFr88C/wIIn59yH+XzGA9rMaBD25yL1bXr5zNE/B1infsAvDeR69zJ+B30/O2iwfwOtJds78uC8vuvLGUegh49E5U/zc7q69M329ZHibc4nOF63nbRQy868ebdT27wLMqDx+5x0w9LcPBykChQ6ZIBPuwF2VizW23lkoN5RJd+CD88YFFmVhz232lN1zGwStco+foy1X9t3RX17Ggh7izuQt4MnphAfZb5e3DeOa+qpEX8IGeWSgPG/paxX0NewEf6CaReqENWpzx6vtS8HYFZwF7AR/o5p56IP7E4BH50pBH4CezF/Axpb0SgMfki7nrpVv7nUAWRTEh1MGAvQS83oyPF2/nkRfwRbrm5fBaq9lkEc7KlUS9/T4tJ7Nu9A2hoTrecVEwaeOxDwoC/Xl0hsXGtceR6O0Cfk5nrzFxfuTdFrqQex34p1IwMB/jkv6kogswhlkH8H6aw/jI+KFI6jHg+4MfR17Al0i/EGEe93Hk65JV5t8v0CzQ3fEKwY+iPpA8M3KtghNtkM0o6jr5AT18AV+k+LMzY7nf9+iek94JLr7PYMXBj+fen/xHgMxS5mOSAv576jZht5i8gC/V5J6dgKeiDjvtBPyWEvBMFTwpIeCZyCfPDvyQQrP0NRGZWhHynx/ObQF+QcgTAz8AEn3uYcj7u23pcyfpZvoxHxnLo4fhu6/W9fcIRR9TtMlTbBbH23TdlTsP8FStAkpP2auHzVmEuNN3MVFFuHrPRnTkPiQDIxIld8v+inMFm3P6gR/T5fkEhRV625LRr66XrVek9Pwi247kSW22FGXswuo0phPw1BTfZP30tYI6oX31UlS0cnZhtQY9pSdp7BX0J9gGKzakiwZtPfxxLm5IedkLm4goxjMxyqsmTwN8jDNn9tng6wf1NMCLsMJATr62VMB/S0FfLoFPwH9MwY5bifgS7dxPwKhTgAX8kwkETKlQ1ktNq+v6T4H3A1zFftxIaO9NkmDdaP7T4PWvs83oKf/Nd3GIm4Lfmsxo5ey3rAj5D771KjXrt23xythoW/Fa84H2FpzZ1YxEhb8tePN+nEeOW4KfE4zuJtutBERfi4Q5FpIf6YDKtDd43ep0qdeYLo14CuBVEvZugTlMGd27DcGL3pUIeftqa0pNvIDvqDh4t+G6/C+XjDR2YNrcFAVfv+OazGvLpYy8KA4++jEL/FhjJ11D7Q4jFO3dqcTnd+4EwWcPBfYEWKvoU7L14AcbOzZ5VnLg439jNvE3qJdwF/Ad5Zjr4Rteiy37i0Wja0sB308KxzVesPtP/Hcpj/xwLgK+m+yaPFqct69L+P2ywOuaYry1w+/ARolH4++4//3ywKvHP2nc09rhd2Cj1DsRlILc/5N/xD7N2lk3+r5SL0HxuP+SHbypC9HbgadrMHr5EeL5+3kRH3/Ceq61U+/2aaXeduVzj4KfPtcl4LspAT4I+Bj4+RgEfDdFZ2zjAR+8OEPA76vUCy2zwC8wd/4tvyozcfcI/p7O81oEAb+zkhGPJm/MSRj8CnMX3PObAhP0qZA3r7kV8FM0qSJ1UIOQh8szN3avjZ9ioGfugnt+U4ma3qJ3C7VB6ZA2fmOlpm8serDbNjy6wN75t/ymXh6niO/Jkap+e4U9ttcSsDTgBXwn5YKnwl3A91LeI1Ix7ovsXXPbzynv4Tg63AV8J2VtoA1OWfg6YAHfR+r3zv0MnrES8NsrH7y31X6Zwatu/DGpjP3ydr+924i9zv0Cvo+ywIclYKHB6279KeVU9fBJ+bvWX2nwwnt/SVmdevx57bPEAr6PSsH/7cJZa/DSu39HKv2chKvf0ZfFLw8Q8OWK/m2e32sj74/g5xuODF57+69I5YBHa/KrHb/6/h+R+uWD1w/ErrZ4tQHfUEbA2zdikOAu4LtI1/TP/bu//t9BBLuA7yJ11/Tn8yyOushTER1LNpZp4V/W5AX81wTAP4a8gP+WbE1/759P9+1+hMiTMWRfae5Kv+smfFpCwYOrrTUiY8i2UgB88HKj4MVHZPxNxpBtdZMFhNEEnf9w/GprrehYsq0MePQ0tAJVAEXuAr5dIXjL2fsq4D8l28QH5C/crgpYbSgSLWu2lO3cxcEThP4nehbtJ/UY8UQ9TNSsnaQjPopdwH9XKtm507+vNjAuomZtJPV7Av+j6mCqdu0jFPDw7xGoax2WqoOp2rWP/uj+wumaP+J0sQv4ZmnidqpOUa/jtYibR19odhbGPcnRuxNl27YQnpYX8Gxk2vdrMP9zNf2P5oSdFWHT9tAF/qfCWRzK1A8B3ygT7C7kN+FeDJ509bVCYXd+i059ecQLeKTUnovvgRchqQR58vFB3T7iUvGQ36BBJG8gcW2KXcA3KhbvO2AX8I26H5/B2+f3cOkeVhKVDvZTIp6ZAHcU8js08vQtpC0HHg/myPuVvIGklRrFb1DdkzeQtAQ8U6k4+Q1qegHfIhUHvwF2Ad8k2KvfjLuAb1Giol9tVpb2sJKqAHe1V8AL+CZB8Ha35Wqj8rSJmUQV1PW7YBfwbQrBr7YoW/tYSlGZ4M05k617FCljtlNeVe9GfdMNTIuSLRsq4J4GT4u7gG8Tivg0XUVvczI1e3YTIE8wrB+0i51kpZD2Gc/tYiddKdd32ynkNzGTsly8m3dVd069Z3Iu3SGp8hKq7LujH1SLCPgu8sH3rfVHkBfwnaQi6ph4t6Rskt1TZCv4HN1qW961gYl7aQ/sAn6A9nDpHlaKukvAM5WAZyoBz1QCnqkE/N6qHjsK+M0l4EVFEvBMJeCZSsAzlYBnKgHPVAKeqQQ8Uwl4phLwTCXgmUrAM5WAZyoBz1QCnqkEPFMJeKYS8Ewl4JlKwDOVgGcqAc9UAp6pBDxTCXimEvBMJeCZSsAzlYBnKgHPVAKeqQQ8Uwl4phLwTCXgmUrAM5WAZyoBz1QCnqkEPFMJeKYS8Ewl4JlKwDOVgGcqAc9UAp6pBDxTCXimEvBMJeCZSsAzlYBnKgHPVAKeqQQ8Uwl4phLwTCXgmUrAM5WAZyoBz1QCnqkEPFMJeKYS8Ez1D6TXsp1BS84uAAAAAElFTkSuQmCC" alt="plot of chunk unnamed-chunk-9"/></p>

<p>Now, let&#39;s add those occurrence points from earlier to this map:</p>

<pre><code class="r">map(&#39;world&#39;,fill=T , col= &quot;grey&quot;, bg=&quot;light blue&quot;,xlim = c(-180,-20),ylim = c(-60,80))
plot(Xanthium_strumarium_range,col=&quot;green&quot;,add=T)
points(cbind(Xanthium_strumarium$longitude,Xanthium_strumarium$latitude),col=&quot;blue&quot;,pch=20,cex=1)
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-10"/></p>

<h1>Plot data</h1>

<p>These functions begin with the prefix &ldquo;BIEN<em>plot</em>&rdquo; and return ecological plot data.  Functions include:</p>

<ol>
<li><p><code>BIEN_plot_list_sampling_protocol</code> Returns the different plot sampling protocols found in the BIEN database.</p></li>
<li><p><code>BIEN_plot_list_datasource</code> Returns the different datasources that are available in the BIEN database.  </p></li>
</ol>

<ul>
<li>These first two functions are useful for identifying plots with comparable sampling methods.</li>
</ul>

<ol>
<li><p><code>BIEN_plot_sampling_protocol</code> Downloads data for a specified sampling protocol</p></li>
<li><p><code>BIEN_plot_datasource</code> Downloads data for a specific datasource</p></li>
</ol>

<ul>
<li>These next two function are then useful for downloading datasets with consistent methodology.</li>
</ul>

<ol>
<li><p><code>BIEN_plot_country</code></p></li>
<li><p><code>BIEN_plot_state</code></p></li>
<li><p><code>BIEN_plot_dataset</code> Downloads data for a given dataset (which is nested within a datasource)</p></li>
<li><p><code>BIEN_plot_name</code> Downloads data for a specific plot name (these are nested within a given dataset)</p></li>
</ol>

<p>Again we have some of the same arguments available for these queries that we saw for the occurrence functions.  We also have the new argument <em>all.metadata</em>, which causes the functions to return more metadata for each plot.</p>

<p><strong>Example 4: Plot data by plot name</strong></p>

<p>Let&#39;s take a look at the data for an individual plot.</p>

<pre><code class="r">LUQUILLO &lt;- BIEN_plot_name(plot.name = &quot;LUQUILLO&quot;)
head(LUQUILLO)
</code></pre>

<pre><code>##   plot_name subplot elevation_m plot_area_ha
## 1  LUQUILLO       1         300          0.1
## 2  LUQUILLO       1         300          0.1
## 3  LUQUILLO       1         300          0.1
## 4  LUQUILLO       1         300          0.1
## 5  LUQUILLO       1         300          0.1
## 6  LUQUILLO       1         300          0.1
##                       sampling_protocol     recorded_by
## 1 0.1 ha  transect, stems &gt;= 2.5 cm dbh Alwyn H. Gentry
## 2 0.1 ha  transect, stems &gt;= 2.5 cm dbh Alwyn H. Gentry
## 3 0.1 ha  transect, stems &gt;= 2.5 cm dbh Alwyn H. Gentry
## 4 0.1 ha  transect, stems &gt;= 2.5 cm dbh            &lt;NA&gt;
## 5 0.1 ha  transect, stems &gt;= 2.5 cm dbh Alwyn H. Gentry
## 6 0.1 ha  transect, stems &gt;= 2.5 cm dbh Alwyn H. Gentry
##   scrubbed_species_binomial individual_count latitude longitude
## 1         Dacryodes excelsa                1  18.1833  -65.8333
## 2           Guarea guidonia                1  18.1833  -65.8333
## 3         Paullinia pinnata                1  18.1833  -65.8333
## 4        Prestoea acuminata                4  18.1833  -65.8333
## 5     Schefflera morototoni                1  18.1833  -65.8333
## 6        Sloanea berteriana                5  18.1833  -65.8333
##   date_collected datasource                 dataset       dataowner
## 1           &lt;NA&gt;    SALVIAS Gentry Transect Dataset James S. MIller
## 2           &lt;NA&gt;    SALVIAS Gentry Transect Dataset James S. MIller
## 3           &lt;NA&gt;    SALVIAS Gentry Transect Dataset James S. MIller
## 4           &lt;NA&gt;    SALVIAS Gentry Transect Dataset James S. MIller
## 5           &lt;NA&gt;    SALVIAS Gentry Transect Dataset James S. MIller
## 6           &lt;NA&gt;    SALVIAS Gentry Transect Dataset James S. MIller
##   custodial_institution_codes collection_code datasource_id is_new_world
## 1                        &lt;NA&gt;            &lt;NA&gt;            14            1
## 2                        &lt;NA&gt;            &lt;NA&gt;            14            1
## 3                        &lt;NA&gt;            &lt;NA&gt;            14            1
## 4                        &lt;NA&gt;            &lt;NA&gt;            14            1
## 5                        &lt;NA&gt;            &lt;NA&gt;            14            1
## 6                        &lt;NA&gt;            &lt;NA&gt;            14            1
</code></pre>

<p>We can see that this is a 0.1 hectare transect where stems &gt;= 2.5 cm diameter at breast height were included.  If we&#39;d like more detail, we can use additional arguments:</p>

<pre><code class="r">LUQUILLO_full &lt;- BIEN_plot_name(plot.name = &quot;LUQUILLO&quot;,cultivated = T,all.taxonomy = T,native.status = T,political.boundaries = T,all.metadata = T)
</code></pre>

<p>The dataframe LUQUILLO_full contains more useful information, including metadata on which taxa were included, which growth forms were included and information on whether species are known to be native or introduced.</p>

<h1>Trait data</h1>

<p>These functions begin with the prefix <code>BIEN_trait_...</code> and access the BIEN trait database.   Note that the spelling of the trait names must be precise, so we recommend using the function <code>BIEN_trait_list</code> first.  Traits names are standardized to follow <a href="http://www.top-thesaurus.org/">http://www.top-thesaurus.org/</a> where available.  Trait units have been standardized for each trait.</p>

<p>Functions include:</p>

<ol>
<li><p><code>BIEN_trait_list</code>  Start with this.  It returns a dataframe of the traits available.</p></li>
<li><p><code>BIEN_trait_family</code>  Returns a dataframe of all trait data for a given family (or families).</p></li>
<li><p><code>BIEN_trait_genus</code></p></li>
<li><p><code>BIEN_trait_species</code></p></li>
<li><p><code>BIEN_trait_trait</code> Downloads all records of a specified trait (or traits).</p></li>
<li><p><code>BIEN_trait_mean</code> Estimates species mean trait values using genus or family level means where species-level data is absent.</p></li>
<li><p><code>BIEN_trait_traitbyfamily</code> Downloads data for a given family (or families) and trait(s).</p></li>
<li><p><code>BIEN_trait_traitbygenus</code></p></li>
<li><p><code>BIEN_trait_traitbyspecies</code></p></li>
</ol>

<p><strong>Example 5: Accessing trait data</strong></p>

<p>If you&#39;re interested in accessing all traits for a taxon, say the genus <em>Salix</em>, just go ahead and use the corresponding function:</p>

<pre><code class="r">Salix_traits&lt;-BIEN_trait_genus(genus = &quot;Salix&quot;)
</code></pre>

<p>If instead we&#39;re interested in a particular trait, the first step is to check if that trait is present and verify the spelling using the function <code>BIEN_trait_list</code>.</p>

<pre><code class="r">BIEN_trait_list()
</code></pre>

<pre><code>##                                                                                    trait_name
## 1                                                                         aboveground biomass
## 2                                                                     Aboveground stem length
## 3                                                                           acoustic velocity
## 4                                                                        active growth period
## 5                                                                                        Amax
## 6                                                                               annual growth
## 7                                                        Annual relative basal area increment
## 8                                                                        annual transpiration
## 9                                                   annual transpiration per needle unit area
## 10                                                                              anther length
## 11                                                                               anther width
## 12                                                                             bark thickness
## 13                                                                        basal stem diameter
## 14                                                                        bee visitation rate
## 15                                                         Belowground:Aboveground mass ratio
## 16                                                                       Belowground dry mass
## 17                                                                          bending stiffness
## 18                                                                                    biomass
## 19                                                                            biomass density
## 20                                                                               branch count
## 21                                                                             breaking force
## 22                                                                    bundle sheath cell size
## 23                                                                               calyx length
## 24                                                                    calyx midpoint diameter
## 25                                                                                canopy area
## 26                                                                               canopy cover
## 27                                                                              Canopy Height
## 28                                                                            canopy openness
## 29                                                                        Canopy trasmittance
## 30                                                                               capsule mass
## 31                                                                        capsule seed weight
## 32                                                                              catkin number
## 33                                                                            cell population
## 34                                                                       cell radial diameter
## 35                                                                    cell tangental diameter
## 36                                                                              Cellulose 13C
## 37                                                                            Cellulose Cmass
## 38                                                                        cell wall thickness
## 39                                                                change in stem circumfrence
## 40                                                                        chlorophyll content
## 41                                                                          chlorophyll level
## 42                                                        circumfrence at breast height (CBH)
## 43                                                                               cluster size
## 44                                                  CO2 net exchange rate on area basis (NPa)
## 45                                            CO2 net exchange rate on dry weight basis (NPG)
## 46                                      CO2 net exchange rate on individual shoot basis (NPi)
## 47                                                                          condensed tannins
## 48                                                                              cone dry mass
## 49                                                                                core length
## 50                                                                           corolla diameter
## 51                                                  corolla diameter at the base of the calyx
## 52                                                     corolla diameter at the mouth openness
## 53                                                                             corolla length
## 54                                                                      corolla limb diameter
## 55                                                                        corolla tube length
## 56                                                                             cotton biomass
## 57                                                                                  C:P ratio
## 58                                                                       cross sectional area
## 59                                                                  cross sectional stem area
## 60                                                                                 crown area
## 61                                                                             crown diameter
## 62                                                                      crown projection area
## 63                                                                               crown radius
## 64                                                                     crown vector direction
## 65                                                                        crown vector length
## 66                                                                               crown volume
## 67                                                                          crystallite width
## 68                                                                                       d13C
## 69                                                                                       d15N
## 70                                                                             Daily sap flow
## 71                                                                        Daily transpiration
## 72                                                                      Dark respiration rate
## 73                                                                       DBH annual increment
## 74                                                                         DBH (without bark)
## 75                                                                    developed seeds in cone
## 76                                                        developed seeds with embryo in cone
## 77                                                                 diagonal length of a petal
## 78                                                          diameter at breast height (1.3 m)
## 79                                                                              diaspore area
## 80                                                                              diaspore mass
## 81                                                                   diaspore rate of descent
## 82  distance from center of mesophyll chlorenchyma cells to center of nearest vascular bundle
## 83                                       distance from center of vascular bundle to epidermis
## 84                  distance from center of vascular bundle to nearest intercellular airspace
## 85                                                                              dry leaf mass
## 86                                                                                   dry mass
## 87                                                                                    ECM 13C
## 88                                                                                    ECM 15N
## 89                                                                                  ECM Cmass
## 90                                                                                  ECM Nmass
## 91                                                                                embryo mass
## 92                                                              Estimated aboveground biomass
## 93                                                                             Feret-diameter
## 94                                                                           fibre courseness
## 95                                                                         floral tube length
## 96                                                                               flower color
## 97                                                                            flower diameter
## 98                                                                            flower dry mass
## 99                                                                              flower height
## 100                                                                            flowering time
## 101                                                               flower pollination syndrome
## 102                                                                         flower tube depth
## 103                                                                       fly visitation rate
## 104                                                                      follicles per flower
## 105                                                                          Frond narrowness
## 106                                                                               fruit color
## 107                                                                               fruit count
## 108                                                                         fruiting duration
## 109                                                                        fruiting intensity
## 110                                                                            fruiting month
## 111                                                                              fruit length
## 112                                                                                fruit type
## 113                                                                               fruit width
## 114                                                                     fuel moisture content
## 115                                                             gas exchange rate in the dark
## 116                                                            gas exchange rate in the light
## 117                                                                          Germination time
## 118                                                                                 greenness
## 119                                                                     growing season length
## 120                                                                              Growing time
## 121                                                              Height of first major branch
## 122                                                            height of living stump sprouts
## 123                                                                      height to crown base
## 124                                                                    height to first branch
## 125                                                                                 herkogamy
## 126                                                                      inflorescence length
## 127                                                                            initial height
## 128                                                                      inner bark thickness
## 129                                                        inner segment cross sectional area
## 130                                                                    inner segment dry mass
## 131                                                                  inner segment fresh mass
## 132                                                                inner segment fresh volume
## 133                                                                      inner segment length
## 134                                                       inner segment wood specific gravity
## 135                                                        instantaneous water use efficiency
## 136                                                                          Internode Length
## 137                         interveinal distance between centers of adjacent vascular bundles
## 138                                                            intrinsic water-use efficiency
## 139                                                                       Lateral Root Length
## 140                                                                                  Leaf 13C
## 141                                                                                  Leaf 15N
## 142                                                                                  Leaf 18O
## 143                                                                  leaf acid detergen fiber
## 144                                                                              Leaf Al mass
## 145                                                                    Leaf angle inclination
## 146                                                                                 leaf area
## 147                                                                 Leaf area per 5-20 leaves
## 148                                                               leaf area per leaf dry mass
## 149                                                                 leaf area per leaf volume
## 150                                                              leaf area:sapwood area ratio
## 151                                                                               Leaf B mass
## 152                                                                              leaf Ca mass
## 153                                                                              Leaf Ca mass
## 154                                                     leaf carbon content per leaf dry mass
## 155                                             leaf carbon content per leaf nitrogen content
## 156                                                                              Leaf Cd mass
## 157                                                  leaf cellulose content per leaf dry mass
## 158                                                                          Leaf Chlorophyll
## 159                                                                          leaf circularity
## 160                                                                         leaf compoundness
## 161                                                                        leaf crude protein
## 162                                                                              Leaf Cu mass
## 163                                                                              leaf density
## 164                                                                             leaf dry mass
## 165                                                               leaf dry mass of 1-8 leaves
## 166                                                             Leaf dry mass per 5-20 leaves
## 167                                                         leaf dry mass per leaf dry volume
## 168                                                         leaf dry mass per leaf fresh mass
## 169                                                                      Leaf elongation rate
## 170                                                                       Leaf emergence rate
## 171                                                                              Leaf Fe mass
## 172                                                                       leaf flame duration
## 173                                                                           leaf fresh mass
## 174     leaf fresh mass minus leaf dry mass per leaf water saturated mass minus leaf dry mass
## 175                                                     leaf fresh mass per leaf fresh volume
## 176                                                                  leaf fresh water content
## 177                                              leaf hemicellulose content per leaf dry mass
## 178                                                                        leaf ignition time
## 179                                                                               Leaf K mass
## 180                                                                       leaf lamina density
## 181                                               leaf lamina dry mass per leaf lamina volume
## 182                                                            Leaf lamina fracture toughness
## 183                                                    Leaf lamina fracture toughness (light)
## 184                                                    Leaf lamina fracture toughness (shade)
## 185                                                                     leaf lamina thickness
## 186                                                             Leaf lamina thickness (light)
## 187                                                             Leaf lamina thickness (shade)
## 188                                                                               leaf length
## 189                                                              leaf length:leaf width ratio
## 190                                                                            leaf life span
## 191                                                                               leaf lignin
## 192                                                     leaf lignin content per leaf dry mass
## 193                                                                                 Leaf Mass
## 194                                                                           Leaf Mass Ratio
## 195                                                                              Leaf Mg mass
## 196                                                                     leaf midrib thickness
## 197                                                                              leaf Mn mass
## 198                                                                              Leaf Mn mass
## 199                                                                      Leaf Molybdenum mass
## 200                                                                              Leaf Na mass
## 201                                                               leaf natural detergen fiber
## 202                                                       leaf nitrogen content per leaf area
## 203                                                   leaf nitrogen content per leaf dry mass
## 204                                                                            Leaf N:P ratio
## 205                                                                                leaf Parea
## 206                                                                            leaf perimeter
## 207                                                     leaf phosphorus content per leaf area
## 208                                                 leaf phosphorus content per leaf dry mass
## 209                                                    leaf photosynthetic rate per leaf area
## 210                                                leaf photosynthetic rate per leaf dry mass
## 211                                                                              Leaf Pi mass
## 212                                                                                leaf Pmass
## 213                                                                              Leaf Po mass
## 214                                                                          leaf punch force
## 215                                                                 leaf relative growth rate
## 216                                                                                leaf shape
## 217                                                                               Leaf S mass
## 218                                                                     leaf smolder duration
## 219                                                                           leaf:stem ratio
## 220                                           leaf stomatal conductance for H2O per leaf area
## 221                                                   leaf stomatal conductance per leaf area
## 222                                                                          Leaf tannin mass
## 223                                                                     leaf tensile strength
## 224                                                                     Leaf Tensile Strength
## 225                                                                            leaf thickness
## 226                                                                       leaf tissue density
## 227                                                                       Leaf tissue density
## 228                                                                            leaf toughness
## 229                                                                            Leaf toughness
## 230                                                                            Leaf Toughness
## 231                                                              Leaf vein fracture toughness
## 232                                                      Leaf vein fracture toughness (light)
## 233                                                      Leaf vein fracture toughness (shade)
## 234                                                                               leaf volume
## 235                                                                                leaf width
## 236                                                                              Leaf Zn mass
## 237                                                                          leaves per plant
## 238                                                             length of the largest stamens
## 239                                                            length of the smallest stamens
## 240                                                                  light compensation point
## 241                                    light saturated leaf photosynthetic rate per leaf area
## 242                                                                                Litter 13C
## 243                                                                                Litter 15N
## 244                                                                                  Litter C
## 245                                                                              litter Cmass
## 246                                                                              Litter Cmass
## 247                                                                          Litter C:N ratio
## 248                                                                              litter Nmass
## 249                                                                              Litter Nmass
## 250                                                                          Litter N:P ratio
## 251                                                                              Litter Pmass
## 252                                                                            Litter Po mass
## 253                                                             longest whole plant longevity
## 254                                                                          main root length
## 255                                                                 male inflorescence length
## 256                                                                             maturity time
## 257                                                           Maximum electron transport rate
## 258                                                                      maximum fruit length
## 259                                                                       maximum fruit width
## 260                                                                       maximum leaf length
## 261                                                                        maximum leaf width
## 262                                                             Maximum rate of carboxylation
## 263                                                           maximum whole plant canopy area
## 264                                                                maximum whole plant height
## 265                                                             maximum whole plant longevity
## 266                                                          maximum width of enlarging xylem
## 267                                                                          mean nodule mass
## 268                                                                     Mesophyll conductance
## 269                                                                         microfibril angle
## 270                                                       middle segment cross sectional area
## 271                                                                   middle segment dry mass
## 272                                                                 middle segment fresh mass
## 273                                                               middle segment fresh volume
## 274                                                                     middle segment length
## 275                                                      middle segment wood specific gravity
## 276                                                                      minimum fruit length
## 277                                                                       minimum fruit width
## 278                                                                       minimum leaf length
## 279                                                                        minimum leaf width
## 280                                             minimum length of whole plant juvenile period
## 281                                                                minimum whole plant height
## 282                                                                     modulus of elasticity
## 283                                                                          moisture content
## 284                                                                                Needle 13C
## 285                                                                                Needle 15N
## 286                                                                               needle area
## 287                                                                              Needle Nmass
## 288                                                                 Net CO2 assimilation rate
## 289                                                                                Nmass leaf
## 290                                                                                Nmass root
## 291                                                                               Node amount
## 292                                                                            Nodes per gram
## 293                                                                               nodule mass
## 294                                                                                 N:P ratio
## 295                                                                        number of branches
## 296                                                                     number of empty seeds
## 297                                                                    number of filled seeds
## 298                                                                         number of flowers
## 299                                                          number of flowers on main branch
## 300                                                                          number of fruits
## 301                                                                number of fruits per plant
## 302                                                                  number of inflorescences
## 303                                                                          number of leaves
## 304                                                             number of leaves per seedling
## 305                                                            number of living stump sprouts
## 306                                                                           number of nodes
## 307                                                                         number of nodules
## 308                                                                        number of rosettes
## 309                                                                 number of secondary stems
## 310                                                                           number of seeds
## 311                                                               number of seeds per capsule
## 312                                                                 number of seeds per fruit
## 313                                                                 number of seeds per plant
## 314                                                                           number of stems
## 315                                                                         number of stolons
## 316                                                                           number of teeth
## 317                                                                         number of tillers
## 318                                                                      outer bark thickness
## 319                                                                outer cross sectional area
## 320                                                                    outer segment dry mass
## 321                                                                  outer segment fresh mass
## 322                                                                outer segment fresh volume
## 323                                                                      outer segment length
## 324                                                       outer segment wood specific gravity
## 325                                                                      palisade cell length
## 326                                                                palisade cell SA:vol ratio
## 327                                                                        palisade cell size
## 328                                                                       palisade cell width
## 329                                                                        palisade thickness
## 330                                                                            Peak flowering
## 331                                                                             peak sap flow
## 332                                                                        Peak transpiration
## 333                                                               Perimeter:Leaf length ratio
## 334                                                                              petal length
## 335                                                                               petal width
## 336                                                                          Petiole dry mass
## 337                                                                Petiole dry matter content
## 338                                                                        Petiole fresh mass
## 339                                                                            petiole length
## 340                                                                             petiole width
## 341                                                                   phenolics concentration
## 342                                                                               phloem path
## 343                                                                             pistil length
## 344                                                                              pistil width
## 345                                                                               plant cover
## 346                                                                     plant flowering begin
## 347                                                      Plant flowering begin trait (Julien)
## 348                                                                  plant flowering duration
## 349                                                                   plant fruiting duration
## 350                                                                              Plant height
## 351                                                                          Plant narrowness
## 352                                                                              plant volume
## 353                                                                           pods per branch
## 354                                                                            pods per plant
## 355                                                                                pollinator
## 356                                                                pollinator visitation rate
## 357                                                  Predicted freezing vulnerability at -15C
## 358                                                                                     Rarea
## 359                                                              Relative biomass growth rate
## 360                                                                Relative growth daily rate
## 361                                                                      reproductive biomass
## 362                                                                    resistance to drilling
## 363                                                                             Ring porosity
## 364                                                                                ring width
## 365                                                                                     Rmass
## 366                                                                                Root Angle
## 367                                                                              root Ca mass
## 368                                                                              Root Ca mass
## 369                                                                                Root Cmass
## 370                                                                            Root C:N Ratio
## 371                                                                             root diameter
## 372                                                                             root dry mass
## 373                                                                             Root dry mass
## 374                                                                                root Kmass
## 375                                                                                Root Kmass
## 376                                                                               root length
## 377                                                                               Root length
## 378                                                             root length per root dry mass
## 379                                                                                 Root Mass
## 380                                                                        root mass fraction
## 381                                                                              root Mg mass
## 382                                                                              Root Mg mass
## 383                                                                                root Nmass
## 384                                                                                Root Nmass
## 385                                                                                root Pmass
## 386                                                                                Root Pmass
## 387                                                                          root:shoot ratio
## 388                                                                         root surface area
## 389                                                                     root tensile strength
## 390                                                                       root tissue density
## 391                                                                       Root Tissue Density
## 392                                            root total non-structural carbohydrate content
## 393                                                                               root volume
## 394                                                    sap flow under high evaporative demand
## 395                                                     sap flow under low evaporative demand
## 396                                                                              sapwood area
## 397                                                                             sapwood depth
## 398                                                            sapwood relative water content
## 399                                                                   sapwood water potential
## 400                                                                              seed density
## 401                                                                       seed dispersal mode
## 402                                                               Seed germination proportion
## 403                                                                               seed height
## 404                                                                               seed length
## 405                                                      Seedling Absolute Height Growth Rate
## 406                                                                   seedling basal diameter
## 407                                                                            seedling Cmass
## 408                                                                           seedling height
## 409                                                                     seedling leaf biomass
## 410                                                                            seedling Nmass
## 411                                                                     seedling root biomass
## 412                                                                     seedling stem biomass
## 413                                                                    seedling stem diameter
## 414                                                                      seedling stem height
## 415                                                                    seedling total biomass
## 416                                                                                 seed mass
## 417                                                                     seed number per plant
## 418                                                                         seeds per capsule
## 419                                                                          seeds per catkin
## 420                                                                            seed thickness
## 421                                                                            seed toughness
## 422                                                                               seed volume
## 423                                                                                seed width
## 424                                                                              sepal length
## 425                                                                               sepal width
## 426                                                                             shoot biomass
## 427                                                                             shoot density
## 428                                                                            shoot dry mass
## 429                                                                              Shoot Height
## 430                                                                                Shoot Mass
## 431                                           shoot total non-structural carbohydrate content
## 432                                                                       Shoot transpiration
## 433                                                                        shoot weight ratio
## 434                                                                          Single leaf area
## 435                                                                          Single Leaf Area
## 436                                                                    specific fibre surface
## 437                                                                       specific peak force
## 438                                                                        Specific Root Area
## 439                                                               specific root tip abundance
## 440                                                                   specific seed toughness
## 441                                                                     specific stem density
## 442                                                                           sprout dry mass
## 443                                                                             sprout length
## 444                                                                                  Stem 18O
## 445                                                                           stem basal area
## 446                                                                  stem basal area per area
## 447                                                                              stem Ca mass
## 448                                                                              Stem Ca mass
## 449                                                                         stem circumfrence
## 450                                                                              stem density
## 451                                                                             stem diameter
## 452                                                                             stem dry mass
## 453                                                                   stem dry matter content
## 454                                                                               stem height
## 455                                                                                stem Kmass
## 456                                                                   Stem:Leaf Biomass Ratio
## 457                                                                              stem Mg mass
## 458                                                                                Stem Nmass
## 459                                                                                Stem Pmass
## 460                                                                 stem relative growth rate
## 461                                                                         stem straightness
## 462                                                                               stem volume
## 463                                                                        Stem water content
## 464                                           stem wood carbon content per stem wood dry mass
## 465                                                                         stem wood density
## 466                                                                             stigma length
## 467                                                                              stigma width
## 468                                                                  Stomatal conductance CO2
## 469                                                                          stomatal density
## 470                                                                          Stomatal density
## 471                                                                            stomata length
## 472                                                                            stomatal index
## 473                                                                      stump basal diameter
## 474                                                                              style length
## 475                                                                      style midpoint width
## 476                                                                             Survival rate
## 477                                                                           syconium height
## 478                                                                           syconium volume
## 479                                                                            syconium width
## 480                                                                      tannin concentration
## 481                                                                             total biomass
## 482                                                                            total dry mass
## 483                                                                          total fresh mass
## 484                                                             total leaf area of 1-8 leaves
## 485                                                                         total nodule mass
## 486                                                                           total phenolics
## 487                                                                             transpiration
## 488                                                                      transversal porosity
## 489                                                                           tree basal area
## 490                                                                     Tree crown exposition
## 491                                                                               tree height
## 492                                                                         trichrome density
## 493                                                                              trunk height
## 494                                                                        vegetative biomass
## 495                                                                 vein length per unit area
## 496                                                                         vessel lumen area
## 497                                                                             vessel number
## 498                                                                   water storage cell size
## 499                                                                      water use efficiency
## 500                                                          whole plant aboveground dry mass
## 501                                                        whole plant aboveground fresh mass
## 502                                                        whole plant belowground fresh mass
## 503                                                                   whole plant canopy area
## 504                                                                whole plant crown dry mass
## 505                                                            whole plant dispersal syndrome
## 506                                                                    whole plant fresh mass
## 507                                                                   whole plant growth form
## 508                                                         whole plant growth form diversity
## 509                                                                        whole plant height
## 510                                                                     whole plant leaf area
## 511                                            whole plant leaf area per whole plant dry mass
## 512                                                               whole plant leaf fresh mass
## 513                                                               whole plant longevity range
## 514                                                whole plant primary juvenile period length
## 515                                                         whole plant reproductive lifespan
## 516                                                                 whole plant root dry mass
## 517                                                               whole plant root fresh mass
## 518                                                                 whole plant sexual system
## 519                                                                 whole plant stem dry mass
## 520                                                               whole plant stem fresh mass
## 521                                                          whole plant vegetative phenology
## 522                                                                     whole plant woodiness
## 523                                                                                     width
## 524                                                                                  Wood 15N
## 525                                                                  wood acid detergen fiber
## 526                                                                              wood Ca mass
## 527                                                                        wood crude protein
## 528                                                                              wood density
## 529                                                                               wood lignin
## 530                                                                              wood Mn mass
## 531                                                              wood neutral detergent fiber
## 532                                                                                wood Nmass
## 533                                                                                Wood Nmass
## 534                                                                                wood Pmass
## 535                                                                            wood stiffness
## 536                                                                     xylem vessel diameter
## 537                                                                                      &lt;NA&gt;
</code></pre>

<p>If we&#39;re interested in leaf area, we see that this is indeed called &ldquo;leaf area&rdquo; in the database.  Now that we know the proper spelling, we can use the function <code>BIEN_trait_trait</code> to download all observations of that trait.</p>

<pre><code class="r">leaf_area &lt;- BIEN_trait_trait(trait = &quot;leaf area&quot;)
</code></pre>

<p>Note that the units have been standardized and that there is a full set of attribution data for each trait.</p>

<p>#Taxonomy Data</p>

<p>While there are existing packages that query taxonomic data (e.g. those included in the excellent taxize package), the RBIEN taxonomy functions access the taxonomic information that underlies the BIEN database, ensuring consistency.</p>

<ol>
<li><p><code>BIEN_taxonomy_family</code> Downloads all taxonomic information for a given family.</p></li>
<li><p><code>BIEN_taxonomy_genus</code></p></li>
<li><p><code>BIEN_taxonomy_species</code></p></li>
</ol>

<p><strong>Example 6: Taxonomic data</strong></p>

<p>Let&#39;s say we&#39;re interested in the genus <em>Asclepias</em>, and we&#39;d like to get an idea of how many species there are in this genus and what higher taxa it falls within.</p>

<pre><code class="r">Asclepias_taxonomy&lt;-BIEN_taxonomy_genus(genus = &quot;Asclepias&quot;)

#We see that the genus Asclepias falls within the family Apocynaceae and the order Gentianales.

#You&#39;ll also notice that a given species may appear more than once (due to multiple circumscriptions, some of which may be illegitimate).

#If we&#39;d just like to know all the speciess that aren&#39;t illegitimate:
Asclepias_species&lt;-unique(Asclepias_taxonomy$scrubbed_species_binomial[Asclepias_taxonomy$scrubbed_taxonomic_status %in% c(&quot;accepted&quot;,  &quot;no opinion&quot;)])
</code></pre>

<h1>Phylogenies</h1>

<p>The BIEN database currently contains 101 phylogenies for new world plants.  This includes 100 replicated phylogenies that include a large fraction of New World plant species (&ldquo;complete phylogenies&rdquo;) and 1 phylogeny containing only those New World plant species for which molecular data were available (&ldquo;conservative phylogeny&rdquo;). Currently, there are only 2 functions available:</p>

<ol>
<li><p><code>BIEN_phylogeny_complete</code>  This function will return a specified number of the replicated &ldquo;complete&rdquo; phylogenies.  Note that each phylogeny is several Mb in size, so downloading many may take a while on slow connections.</p></li>
<li><p><code>BIEN_phylogeny_conservative</code> This function returns the conservative phylogeny.</p></li>
</ol>

<p>Arguments: The function <code>BIEN_phylogeny_complete</code> has a few arguments that are worth explaining:</p>

<ol>
<li><p>n_phylogenies This is the number of replicated phylogenies that you want to download (between 1 and 100)</p></li>
<li><p>seed This function sets the seed for the random number generator before randomly drawing the phylogenies to be downloaded.  This is useful for replicating analyses.</p></li>
<li><p>replicates This function allows you to specify WHICH of the 100 phylogenies to download, rather than having them selected randomly.</p></li>
</ol>

<p>*<em>Example 7: Phylogenies *</em></p>

<p>Let&#39;s say we want to download the conservative phylogeny.</p>

<pre><code class="r">phylo &lt;- BIEN_phylogeny_conservative()

#Let&#39;s make sure it looks alright

plot.phylo(x = phylo, show.tip.label =  FALSE)
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAABlBMVEUAAAD///+l2Z/dAAAACXBIWXMAAAsSAAALEgHS3X78AAAMI0lEQVR4nO3di5KqOBRGYXz/l54a+6gBkpArZO9/rZpqj0oD8k3itbu3F0m2Pb0D9EzAiwa8aMCLBrxowIsGvGjAiwa8aMCLBrxowIsGvGjAiwa8aMCLBrxowIsGvGjAiwa8aMCLBrxowIsGvGjAiwa8aMCLBrxowIsGvGjAiwa8aMCLBrxowIsGvGjAiwa8aMCLBrxowIsGvGjAiwa8aMCLBrxowIsGvGjAiwa8aMCLBrxowIsGvGjAiwa8aMCLBrxowIsGvGjAiwa8aMCLBrxowIsGvGjAiwa8aMCLBrxowDtp2+oogffQ9q7uWybtCt3YBrxmwIsGvGjAi7b92dd+D1nvrQ68XBtTvWbAa7YBrxnwogGv2QcceLH+wBnxam0bU71g2wa8ZB8+4MX6PrADXqvtewK8VNt3lgdeqO8Mz1Qv0z/q//97Aa/TFqtuDZP2jKb2xwa8XIx40SJswCsEvGDRaZ2p3n/ba8/GfbxIB3ge3Im0hfA8qtcpeI2Wp3NKRc2B91vWF3i/bYfT7+WMeN+d4ZnqJTrB/z5QD7znos/gGPH+20sBL9HZNfaGfN0qh+0czWv/Ku0/ZUa8/w7wr++7ccD77gcfCDPi/RfAvyJmwHstmNVfifdkgffY+f6dp3MSpV+mBd516XfkgHfdQWkHDbzjjvDhhcA7Lvo+HFO95/az+v5C4B23n9ULFq1bMa0a8KIBL1o5PPfxriqG58Gdr8rhmepd9YG/fMLGiPfVF/53JrEg8K4qhecFHDftXp1NwvPKnbu23dckfPSfxaun9drBb1H4w/s1Daun9do9kQtG/H5yDy9qWD2tVxw++Z4s8F6KwW/b9hvewPssAh+eMuK9FoNPfAIDeE8d4AtqWD2t1x7+c+EW3s8D77HD83hGvEbb/mnbKzwDvOP2b68z4mWq/VwFb8s6qQqeEe8n4EXLwXMf77gzPA/ufPdVPMHvrgbeW99PUp9erD0tCbynzvDhKVO9237wB0/u47224/u5bK8SdODtlvhpqTJ04O2WgD8t9ocMvJv28A01bI2e7gsX/eQF8G7bXgWv0ADvr8PPRgCv0vdz8lfLAe+r3+tzjHipaj5GDbyjWh2AN16bw7Z7JeeGDdLoGuEZ8dZrcji8czd/gzS8Rnge3FmvxeEPG3jTVTnwdM5PPa/YAW+4+k/RA++iDHyx/aAN0p1l4Q8XAO+oqEPUkxHvqjj8+Zot+ovOgDdbMXzm87f9G6Tbu4APdJnqXRVx+EeZhgbeQTH4UhzgDdcMz4i3XT08U72L4vB19W6Q7i+mVkkDvMW22LPzmm9nxNsshD/947QsU72bSuBPwMDbrwj+35KMeEddwWdggbdc+EvKv5eF1//OM+I9FfxWhPhdeHD+eBXwhovB767/Lsd9vKuy8Flt4E2Xn+qj3/DvKuBNF8KfIBnxfov9yqvyT1kCb7YofG11Wxy389Re/JfcXXwL8ParhmfE+6gYnqneVyXwOV3gjXYJ/4HNPfyr22L1PtKEruF5OueyEvhwaeCdVA4fIQbebhXwu8UY8carhGeq91IOPlA98gJvvSz858vbdr/InzfwZiuB//t7szydc1XO7gd/Ud0WB+w1dbftTiLXnSb5wzLA2ywF/wWNwDLiHZSE/1x4/IPyTPU+KobnPt5Xl/AlvyahZYv0bCf4AHPbXQC8q87wv5MCcuCtloMvpm/ZIj1bGr54vANvsSR8zc/TtGyRni0F/30yV/J/QMsW6dky8B9TRrzH0vB/54pq2SI92wX8eXngfVQEz4j3Vxn8hX3LFunZSuAzf40GeKuVwX9wgXdTITwj3lu/F+piip+Lzm/eAW+86BvxhzOXr9v3bZGeqAz+/RV4TxXBJ+8DgDdbCfz7X0z1viqF/3ceeC/F4VOkif8R+rZIT5SAP1+7J2bEW68c/v2Fqd5LdfCvuH3fFumJSuHTusCbDHjRLuAv53OmeqPl4YOLc/VtkZ7oDF9FCbzV4gwFOIx42zXCM9VbrwA+e/cOvNFK4OOLAG+6DPzJlRHvqBz85wxTvcNy83jiO4D3UIah8FMYwJusDP7jC7ybcvDFjdoi3VcNA/BW60ZLrK/um3q2SE1FjjnwCo2H5/14E42F5z7eTIPhmeqtNB7+fQr86k2BZ8SvH/CiTYDnPt5CM+AZ8QYaAx88i9s24C00CP53ytM5Gw2B/zrzAo6ZuuF5d85mHfDJt2SBN1AFfBYaeGNdwldxA2+ma/jK9QFvo5HwjHhDjYJnqjfWIPjfH54F3kZD4RnxdhoAz6N6i/XAB8jAW6sLnh+osFsa/prwdxXw5srAJxd4X/zT3UsDb6Nm+Fc4JzDizVULH8rm/vJc707Q5Krhw9PwOuBtVQx/EE0+nAfeRuXw/04K690Jmlwt/Occ8Ma7hq+mBN5Cl/CZBWOrY8QbqQueqd5uFfClj+uAt1A5fMEvsAXeTsXw5c/kgLdQBXzhCoE30UB4RrylhsFv+3fpeneCJjcOnhFvqlHwATXwFhoC/0fNiLfUGPjzc73enaDJjYCPvUnfuxM0ubHwn/PAr1xqaDbAh+OcEb96p4/NhZdXwX//wVRvoTR8pV0A/2LEr18GPnFNZNmdMiPeREPgD0sCb6CR8Men8cAv3FD49ynwJuqF3z2BOw76+j2hu+qGDxYC3lDt8D/c8MXa14v3403UAf/9GntAD/ziDYFPVb8ndFfd8Lnq94Tuqhc+eg3w6zcF/v0F+KUbDv8GZ8Qv3yj48I6dqd5AbfA/1j0yD+7MVA5/JM0+ngd+9Srgw2vLqt8Tuqs2+KuVAr98wIs2Gp6p3kgD4LmPtxgP7kRLwm9Z+HA54E0Uw4ke8zL45HqBX6wtcjYDv2MsIgV+zerg9+e343Xcx9tpLPxxGeCXbQx8lJYRv3JD4PffzVRvobHwP1/gF28o/N8VjHgLjYdPbAf4tboJnhG/Wu3wFZJM9evVDJ9aLvq9wC/XDfA8uHu+y4faw+HfmwD+6c5HcyY8T+eWaTZ8+jk88I82DT4vDvzTDYc/owK/YuPh36eFde4qtTcYPooJ/IKNhT9eyohftvHwZ9ktOf137iq11wPfX+euUnuF8JPq3FVqrwy+ao3Ar1z62A8f1sCv1HY47VgT8JYaCF+7PPBP9gz8zxv4h+qFbxm2TPULVAmfMbtcQ/A9wD9eLXz6gtoHdMDfVP6YN8MPqe6GVC1N+fdSwmvHEAG/SBXwtSv5XMmIX7EC+GuHSS/wDbghlKoEPrfk31XVaMA/3QV8ADBkEFc14IZQqpIPyszZMPCPNuATUtMacEMoVcknpJ5qwA2hVAsfL+BntvDxAn5mCx8v4NuacUd6a8C3VXYkFj5ewLcFvGjAiwa8aMD7a+Dj9YWPF/Cnim4k8P4CvndpoynAO3+TZuL7VlbhG19UXO+GZGvb3ZHwCzf+mKzTTPjJB3p+44/JIw24cd9VDd61orXeIN1zbBaGL76wbVXd3S970QLHJL6pAbejEV6jumPSdCSbqtxUHJ7SzdToqRaeKpup0dO6DyfM5x3+2QG1fDdr3Lgp5oxYwOu1xogfOxVFtzBgL+233FR/+aO+07fgMQP38cBHq5DrrG63Bt7C7k2NvWk3d4PsyKOzFnz3Gp6p8rgDP34Ns8sc8lmc5dXdkoEHpXtTBuDjl67RgFvS1CVb964/CV9/cGcatxy9w97V3fy5q7oXvuWwTgEbVd2tH3ggp6/h6SO7eEOP9a2revrIGe9mrRmrchPwXrpVsrK6GzLwmIxb1SNNOLr1q++pbneab8jMVQ1v2IGbbNdV3RFpOo6zV1W33UEHZTLL/OqOWtvBblvVczd40pbXarBW+aro2Z6CJ0sBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwov0HatqrUkqL4CEAAAAASUVORK5CYII=" alt="plot of chunk unnamed-chunk-17"/></p>

<pre><code class="r">#If we just want to see which species are included

phylo_species &lt;- phylo$tip.label
</code></pre>

<h1>Stem Data</h1>

<p>The BIEN database contains stem data associated with many of the plots.  This is typically either diameter at breast height or diameter at ground height.  At present, there is only one stem function (although expect more in the future):</p>

<ol>
<li><code>BIEN_stem_species</code> This function downloads all of the stem data for a given species (or set of species)</li>
<li><code>BIEN_stem_genus</code></li>
<li><code>BIEN_stem_family</code></li>
<li><code>BIEN_stem_datasource</code> This function downloads all of the stem data for a given datasource.</li>
</ol>

<p>Arguments:</p>

<p>The arguments for this function are the same that we have seen in the occurrence and plot functions.</p>

<p>*<em>Example 8: Stem data *</em></p>

<p>If we&#39;d like stem data for the species <em>Cupressus arizonica</em></p>

<pre><code class="r">Cupressus_arizonica_stems&lt;-BIEN_stem_species(&quot;Cupressus arizonica&quot;)
</code></pre>

<h1>Species lists</h1>

<p>These functions begin with the prefix <code>BIEN_list_</code> and allow you to quickly get a list of all the species in a geographic unit.  Functions include:</p>

<ol>
<li><p><code>BIEN_list_country</code> Returns all species found within a country.</p></li>
<li><p><code>BIEN_list_state</code> Returns all species found within a given state/province or other 2nd level political division.</p></li>
<li><p><code>BIEN_list_county</code> Returns all species found within a given county/parish/or other 3rd level political division.</p></li>
</ol>

<p>Some of the same arguments we saw in the occurrence functions appear here as well, including &ldquo;cultivated&rdquo; and &ldquo;only.new.world&rdquo;.</p>

<p><strong>Example 9: Species list for a country</strong></p>

<p>Let&#39;s return to our previous example.  What if we just need a list of the species in the Bahamas, rather than the specific details of each occurrence record?  We can instead use the function <code>BIEN_list_country</code> to download a list of species, which should be much faster than using <code>BIEN_occurrence_country</code> to get a species list.</p>

<pre><code class="r">Bahamas_species_list&lt;-BIEN_list_country(country = &quot;Bahamas&quot;)

#Notice that this time, we have 998 species, whereas previously we saw that there were 999 unique species.  What happened?  The list functions ignore NA values for species names, but R does not.  R counted NA values as a unique species name, giving one extra unique value.
</code></pre>

<p>If we wanted to retrieve the results for multiple countries at once, that is simple as well.  We just need to supply a vector of countries.</p>

<pre><code class="r">country_vector&lt;-c(&quot;Haiti&quot;,&quot;Dominican Republic&quot;)
Haiti_DR &lt;- BIEN_list_country(country = country_vector)
</code></pre>

<p>We can also use political division codes (from geonames.org) instead of writing out the full country names.</p>

<pre><code class="r">#To see all of the political division names, and associated codes, we can use this function:

political_names&lt;-BIEN_metadata_list_political_names()

#Let&#39;s take a look at what the dataframe contains:

head(political_names)
</code></pre>

<pre><code>##                  country country_iso                   state_province
## 1            South Sudan          SS                             &lt;NA&gt;
## 2              Argentina          AR Ciudad Autnoma de Buenos Aires
## 3                Austria          AT                  Obersterreich
## 4 Bosnia and Herzegovina          BA                 Republika Srpska
## 5                 Brazil          BR                           Gois
## 6                 Brazil          BR                           Gois
##              state_province_ascii state_code county_parish
## 1                            &lt;NA&gt;         01    Yei County
## 2 Ciudad Autonoma de Buenos Aires         07     Comuna 11
## 3                 Oberoesterreich         04    Wels Stadt
## 4                Republika Srpska         02        Jezero
## 5                           Goias         29         Posse
## 6                           Goias         29         Cau
##   county_parish_ascii county_code
## 1          Yei County    10345968
## 2           Comuna 11       02011
## 3          Wels Stadt         403
## 4              Jezero     3344112
## 5               Posse     5218300
## 6                Cacu     5204300
</code></pre>

<pre><code class="r">#In addition to the standardized country, state (state_province_ascii) and county (county_parish_ascii) names, we have the associated codes that can be used in BIEN functions.
#Note that &#39;state&#39; refers to any primary political division (e.g. province), and &#39;county&#39; refers to any secondary political division (e.g. parish).

#Looking at the political_names dataframe, we see that the Dominican Republic has country code &quot;DO&quot;, and Haiti has country code &quot;HT&quot;

Haiti_DR_from_codes &lt;- BIEN_list_country(country.code = c(&quot;HT&quot;,&quot;DO&quot;))
</code></pre>

<h1>Metadata</h1>

<p>The BIEN metadata functions start with the prefix <code>BIEN_metadata_...</code> and provide useful metadata for the BIEN database.</p>

<ol>
<li><p><code>BIEN_metadata_database_version</code> Returns the current version number of the BIEN database and the release date.</p></li>
<li><p><code>BIEN_metadata_match_data</code> Rudimentary function to check for changed records between old and current queries.</p></li>
<li><p><code>BIEN_metadata_citation</code> Function to generate bibtex citations for use in reference managers.</p></li>
<li><p><code>BIEN_metadata_list_political_names</code> Returns a dataframe containing political division names and associate codes.</p></li>
</ol>

<p>*<em>Example 10: Metadata *</em></p>

<p>To check what the current version of the BIEN database is (which we recommend reporting when using BIEN data):</p>

<pre><code class="r">BIEN_metadata_database_version()
</code></pre>

<pre><code>##   db_version db_release_date
## 1        4.0      2018-05-08
</code></pre>

<p>** Example 11: Citations**</p>

<p>One of the more innovative features of the BIEN package is that it will generate custom attribution data for you based on what data you downloaded through the package.</p>

<p>Let&#39;s say we&#39;re interested in <em>Selaginella selaginoides</em>, and we&#39;d like to download some occurrence data:</p>

<pre><code class="r">Selaginella_selaginoides_occurrences&lt;-BIEN_occurrence_species(&quot;Selaginella selaginoides&quot;,only.new.world = F)
</code></pre>

<p>If we plan on using those data in a publication ,we&#39;ll need proper attribution.  We can use <code>BIEN_metadata_citation</code> to do this for us:</p>

<pre><code class="r">citation_info&lt;-BIEN_metadata_citation(dataframe = Selaginella_selaginoides_occurrences)
</code></pre>

<p>citation_info is a list that contains 3 elements:
1. A bit of general information on how to use the list.
2. A set of bibtex formatted references.
3. Acknowledgement text.</p>

<p>To make things even easier on ourselves, we can use some of the additional functionality of the <code>BIEN_metadata_citation</code> function:</p>

<pre><code class="r">temp_dir &lt;- file.path(tempdir(), &quot;BIEN_temp&quot;) #Set a temporary working directory


citation_info&lt;-BIEN_metadata_citation(dataframe = Selaginella_selaginoides_occurrences,
                                     bibtex_file = file.path(temp_dir,&quot;selaginella_selaginoides.bib&quot;),
                                      acknowledgement_file=file.path(temp_dir,&quot;selaginella_selaginoides.txt&quot;))
</code></pre>

<p>Now, we have a bibtex file, selaginella_selaginoides.bib, that can be loaded into a reference manages (e.g. Endnote, Paperpile, etc.), and a text file, selaginella_selaginoides.txt, containing text that can be pasted into the acknowledgements section of a publication.</p>

<p>What if we also have some trait data?  No problem there, the code handles that as well:</p>

<pre><code class="r">#First, let&#39;s get some trait data:
selaginella_selaginoides_traits&lt;-BIEN_trait_species(species = &quot;Selaginella selaginoides&quot;)

#Now, we just need to modify our previous bit of code to include the trait data as well:

temp_dir &lt;- file.path(tempdir(), &quot;BIEN_temp&quot;)

citation_info&lt;-BIEN_metadata_citation(dataframe = Selaginella_selaginoides_occurrences,
                                      trait.dataframe = selaginella_selaginoides_traits,
                                      bibtex_file = file.path(temp_dir,&quot;selaginella_selaginoides.bib&quot;),
                                      acknowledgement_file=file.path(temp_dir,&quot;selaginella_selaginoides.txt&quot;))
</code></pre>

<p>The updated citation information will now contain references for both trait and occurrence records.</p>

<h1>Combining Queries</h1>

<p>*<em>Example 11: Putting it all together *</em>
Coming soon!</p>

</body>

</html>
